Util,Network,Interpreter,i18n,Logic,Test,IO,Security,corpus
0,0,0,0,1,1,1,0,see issue what it does is propagating the serializing mode of the parent upon each mock creation when deep stubbingbefore each mock created where made serializable by default which is not an issue when the types have a default no arg constructor but may become problematic when the type didnt have one mockito would report an error explaining that it couldnt mock this type
1,0,0,0,1,1,0,0,we modify the signature of argumentcaptorfromclass class to better express the type relationship between the argument and the return type there is no change to the behavior of the method this change is to allow expressions such as javaargumentcaptor captor argumentcaptorfromclass consumerclass to type check which is desirable as a convenience to users of argumentcaptor we also add two tests to document this extension to the api both of which fail to compile without this change to argumentcaptorfromclass these tests are unusual in that they make no assertions this is justified because the change which they test is a change to the formal or compile time properties of argumentcaptor not its behavior
1,0,0,1,1,1,1,0,fixes issue the value returned by the default answer is now validated to make sure there wont be a classcastexception if the default value is incompatible with return typereporter now fetch in safer way the mock name in case the default answer is incorrectly implemented this avoid a classcastexception when reporting a verification issue
1,0,0,1,1,1,1,0,these commits should with capturing varargs
1,0,0,0,1,1,0,0,follow up to
1,1,0,1,1,0,1,0,problem was caused by file separator replacing hardcoded char by fileseperatorchar solves issue in the same file there is second occurence of this character but it is used with getresource path method in such case is only acceptable separator
0,0,0,0,0,1,0,0,this should awaiting delivery of bytebuddy fix raphw
1,1,0,1,1,1,1,0,in some recent version of mockito spy annotation will use the constructor rather than objenesis that mean that constructor carry actual work but since the interceptor set after instantiation this raised an npe with bytebuddy it wasnt an issue with cglib but it probably didnt event intercept such calls unconfirmed at this point this pr aims to fix that by calling real code if interceptor is not set which can only happen if constructorinstanciator is usedthanks to raphw for his tip on this regard as well https githubcom raphw byte buddy issues issuecomment
1,1,0,0,1,1,0,0,very minor typo in documentation an extra at in the documentationbefore it reads annotating the junit test class with a runwith mockitojunitrunnerclass after it reads annotating the junit test class with a runwith mockitojunitrunnerclass https cloudentcom assets c f b e d b c f png
1,0,0,1,1,1,0,0,solves by explicitly checking for return types that represent a generic array and by resolving for the arrays component type
1,0,0,0,1,1,0,0,will null check on mockutilismock was incorrectly removed after successive refactoring this pr reintroduces null check
0,0,0,0,1,1,0,0,it will report in the end the result of multiple statements
1,1,0,1,1,1,1,0,removed deprecated classes and methods
1,1,0,0,1,1,0,0,fixes issue updated code provided by in pr closes
1,0,0,1,1,1,1,0,for class reporter this pr changes the way errors are created and thrown all methods of the reporter are now static so they can be imported statically and return an exception instead of throwing it directly this improves the readability and eliminates the use of hacks to satisfiy the compilerhere is a sample public list getlastvarargs { if argumentsisempty { reporter noargumentvaluewascaptured return null } else { return argumentsgetlast }} the above code snipped can be rewritten to this public list getlastvarargs { if argumentsisempty { throw noargumentvaluewascaptured } return argumentsgetlast }
1,0,0,0,1,1,0,0,refactored invocationmarker to a static utility class
0,0,0,0,0,1,1,0,â€¦inalmethodstestthis worked locally so lets see if this also works on the ci server
0,0,0,1,0,1,1,0,todo add a regression test to also show how this functionality can be used cc smoyer
0,0,0,0,1,1,0,0,to this is the amendment to the argumentmatcher javadoc
0,0,0,1,1,1,0,0,a quick google showed that there are almost zero usages of this runner moreover it was relying on a very hackish implementation i think we can do a better job by creating a new runner with junit as part of therefore the intent is to deprecate these classes and remove them in mockito
1,0,0,1,1,1,0,0,simple git revert for an accidental removal of a deprecated api since instead of x
1,0,0,0,1,1,0,0,this is a breaking change because junit runner will now fail the test class if there is an unused stubbingfeedback is welcome sorry for working on it for a long time and big number of commits
1,0,0,0,1,0,0,0,details is i took the opportunity to replace testbaseassertthat by more powerful assertj equivalent theres still some work to be done in this class add iterable matchersbefore merging i ponder to make anyobject not to accept null currently any is an alias of anyobject keeping the anyobjet behaviour and deprecate the method i need to update anyint family description
1,0,0,0,1,1,0,0,atic utility classes
1,0,0,0,1,0,0,0,follow up on issue following this comment it tweaks the collection matchers with generic support it should have bee in abf
1,0,0,1,1,1,0,0,refactored supertypeslastsorter to a static utility classrelates to
1,0,0,0,1,0,0,0,inlined arrayutilsisempty in argumentsprocessor and removed arrayutils cause it was only used in argumentprocessoralso isempty was renamed to isnullorempty for clarityrelates to
1,0,0,1,1,1,1,0,refactored objectmethodsguru to a static utility class removed unused methods and associated tests istostring mockitomethod method isequalsmethod method method ishashcodemethod method method renamed istostring to istostringmethod relates to
1,0,0,1,1,1,0,0,if a filed is annotated with injectmocks and the type of a field is an enum inner class interface or local class the error message is now _mock injection failed on field fieldname cause the type abstractcollection is an abstract class_
1,1,0,1,1,1,1,0,makes junit rules detect unused stubs introduces mockitolistener api see the use case in issue recreated pr with squashed commits
1,1,0,1,1,1,1,0,makes junit rules detect unused stubs introduces mockitolistener api see the use case in issue recreated pr with squashed commits
1,0,0,1,1,1,0,0,changes npe to iae see
1,0,0,0,1,1,0,0,this pr concludes yayhighlights the thread safety problem by leveraging the same api that junit rules used for hinting at unused stubs removed stubbinglistener api it could not work to the thread safety levels we support in mockito see also closes
1,0,0,0,1,1,0,0,this pr concludes yayhighlights the thread safety problem by leveraging the same api that junit rules used for hinting at unused stubs removed stubbinglistener api it could not work to the thread safety levels we support in mockito see also closes
1,0,0,0,1,1,0,0,highlights started exposing full mock creation information instead of just type to mock and extra interfaces changed public api but only for methods that were introduced in x so it is _not_ backwards incompatible change as far as is concerned
1,1,0,1,1,1,1,0,aimed to fix the javadoc rendering but the assumption was that the javadoc tool of the sun jdk will render javadoc the same way as openjdk unfortunately this is not the same the javadoc rendering of openjdk is a pre work that avoid the use of table elements this making the stylesheet incompatiblethis pr aims to fix that and thus bonus i changed the and in the javadoc this way we have aligned version numbers
1,1,1,1,1,1,1,0,with deep stubs it was possible for generic metadata to be lost unusedthrough nested invocations on non generic types this could cause returns_deep_stubs to try mocking final classes which would result in a classcastexception apparently my other pr wasnt quite enough to fully fix this problem edited by mockito team
1,0,0,0,1,1,0,0,the java helper interfaces have been introduced in however the public additionalanswersanswer family leak the functional interfacesthese _parameter arity_ interfaces can be public hence they are moved next to answer in the orgmockitostubbing packageim however in favor of adding the incubating annotation on those apis and related objects thoughts
1,0,0,0,0,1,0,0,should fix problems with and
1,0,0,0,0,1,0,0,should fix problems with and
0,0,0,1,1,1,0,0,the logic of argument matching and capturing is the same but can be found in argumentscomparator and invocationmatcher this pr unifies the decision logic how matchers are applied to argument varargs by introducing a matcherapplicationstrategy this strategy can apply an action to an pair of argumentmatcher and argument one action is used to perform the argumentmatchermatches arg call and an other is used to perfrom the capturing argumentcaptor and argumentmatchers can now be mixed in varargs fixes no more npe when null is passed to an varargs added regression tests in varargstest are ignored cause they belong to other issues and fail currently reduced logic duplication
0,0,0,1,1,1,0,0,the logic of argument matching and capturing is the same but can be found in argumentscomparator and invocationmatcher this pr unifies the decision logic how matchers are applied to argument varargs by introducing a matcherapplicationstrategy this strategy can apply an action to an pair of argumentmatcher and argument one action is used to perform the argumentmatchermatches arg call and an other is used to perfrom the capturing argumentcaptor and argumentmatchers can now be mixed in varargs fixes no more npe when null is passed to an varargs added regression tests in varargstest are ignored cause they belong to other issues and fail currently reduced logic duplication
0,0,0,0,1,1,0,0,lets see if this actually works testing for
1,1,0,1,1,1,1,0,warns user to upgrade if java version is to lowalso took the opportunity to log other platform details if mock class cannot be created
0,0,0,0,1,1,0,0,also renamed misspelled issussessful to issuccessful fixes
0,0,0,0,1,0,0,0,all in the title this should
1,1,1,1,1,1,1,1,add missing copyrights using license gradle plugin updated only source files test files were skipped existing copyright headers were not modified
1,0,0,0,0,1,0,0,previous attempts at fixing the time related tests failed indeed the previous attempts are not bullet proof when the ci can run schedule some threads slower than _expected_a proper harness should be implemented but in the meantime i implemented the retry rule as proposed in to gain back stability on the build
1,0,0,1,1,1,0,0,related to this pr simply adds a warning for ibm j vms if the mock maker fails
1,0,0,1,1,1,1,0,attempt at fixing basically it makes the returnsargumentat answer a bit more smart about varargs but im not satisfied with the fix yet
0,0,0,1,1,1,1,0,overviewcustom answers are now more robust users can add add validation logic to the answer implementation it can validate the return type early during stubbing in test rather than fail late during execution of code under test mockito team uses this api behind the hood for all custom implementations of answer interface now advanced users can leverage this new api too javaclass mycustomanswer implements answer validableanswer { note extra validableanswer interface public object answer invocationonmock invocation { answer implementation } public void validatefor invocationonmock invocation { throw mockitoexception if answer cannot be applied to given invocation }} implementationwhile trying to i noticed that answersvalidator knew too much about other answers to fix the design issue i propose the following design introduce validableanswer in public api which is a single method interface that doesnt extends answer each answer that wants to be validated hence implement this interfacebenefit reduced visibility of some methods in these answers each new answer that want to be validated can just by implementing the new contractvalidating returned value of a mocks default answer had to be handled differently
1,0,0,1,1,1,0,0,according to issue we wanted to clean up the tests for rememberinglistenersthe tests should follow the same style and conventionsset up should not contain variables used by all the testswe previously had another pr for this in that build was failing for some reason not obvious and had merge commit that we wanted to remove in an attempt to rebase and reset the history github lost the connection to the remote fork instead of spending time investigating i just created a new pr
1,0,0,0,1,1,1,0,following discussion in it is sensible to add a mockito matcher that can take a pattern as an argumentthe usage is the same as matches string javawhen mockonearg matches patterncompile a z \\d\\d thenreturn although it allows to build more complex regex especially with regular expression flags
0,0,0,0,0,1,0,0,see the design and rationale at please review
0,0,0,0,1,1,0,0,backport release x changes to master the fix for
1,0,0,0,1,1,0,0,see proposed design at the code is reviewable especially new public api please give feedback more work is pendingcurrent status address bric feedback getter javadoc review documentation for consistency mockitosession mockitosessionbuilder strictness mockitohint potentialstubbingproblem unnecessarystubbingexception x mockitojunitrunner and subclasses x mockitosession x mockitorule x add update mentions in the main mockito class x add validate mockito usage should be very easy x try making rules runner use the session they already reuse the code they just dont use the api directly created to track this work x address timvdlippe feedback x create concurrent test multiple sessions active in different threads x non code change not blocking merge github tickets linked from source code should be better documented alternatively create ticket for tracking
1,0,0,0,1,1,0,0,see proposed design at the code is reviewable especially new public api please give feedback more work is pendingcurrent status address bric feedback getter javadoc review documentation for consistency mockitosession mockitosessionbuilder strictness mockitohint potentialstubbingproblem unnecessarystubbingexception x mockitojunitrunner and subclasses x mockitosession x mockitorule x add update mentions in the main mockito class x add validate mockito usage should be very easy x try making rules runner use the session they already reuse the code they just dont use the api directly created to track this work x address timvdlippe feedback x create concurrent test multiple sessions active in different threads x non code change not blocking merge github tickets linked from source code should be better documented alternatively create ticket for tracking
1,0,0,0,1,1,0,0,see proposed design at the code is reviewable especially new public api please give feedback more work is pendingcurrent status address bric feedback getter javadoc review documentation for consistency mockitosession mockitosessionbuilder strictness mockitohint potentialstubbingproblem unnecessarystubbingexception x mockitojunitrunner and subclasses x mockitosession x mockitorule x add update mentions in the main mockito class x add validate mockito usage should be very easy x try making rules runner use the session they already reuse the code they just dont use the api directly created to track this work x address timvdlippe feedback x create concurrent test multiple sessions active in different threads x non code change not blocking merge github tickets linked from source code should be better documented alternatively create ticket for tracking
1,1,0,1,1,0,1,0,this internal assumed jacoco fields will always be static final obviously not jacoco changed that the simple fix was to make the source field _accessible_ instead of skipping this fieldhence removing the test exclusion
1,0,0,0,1,0,0,0,grammar issue in argumentmatchers this implementation is due static type safety imposed by java compilershould be this implementation is due to static type safety imposed by java compilerthis pr fixes issue
1,0,0,0,1,0,0,0,cherry pick pr to the x branchthis pr should on this branch too
0,0,0,1,1,0,0,0,this simple piece of code prevents the spyannotationengine to try create a spy instance for a some inner private class with different set of modifierswhile preventing execution it reports slightly better error messages before some time the cause was null this should
1,1,0,0,1,1,0,0,as of now the documentation does not clarify the difference of behaviour between chaining multiple thenreturn statements and using multiple when thenreturn statements when someone attempts to perform consecutive stubbingi added a warning clarification in the documentation with a corresponding example so that its more clear especially for new users of mockito
1,1,0,0,1,1,0,0,meaningful links probably never worked as expectedthe a elements were missing the name attribute so the browser couldnt find the matching part of the documentfor reference navigating to a fragment identifier for html documents and the text html mime type the following processing model must be followed to determine what the indicated part of the document is parse the url and let fragid be the component of the url if fragid is the empty string then the indicated part of the document is the top of the document if there is an element in the dom that has an id exactly equal to fragid then the first such element in tree order is the indicated part of the document stop the algorithm here if there is an a element in the dom that has a name attribute whose value is exactly equal to fragid then the first such element in tree order is the indicated part of the document stop the algorithm here otherwise there is no indicated part of the document
1,0,0,0,1,1,0,0,this pr unifies the functionality of nongreedynumberofinvocationschecker numberofinvocationscheckerinorder and numberofinvocationschecker in static methods of the type numberofinvocationschecker this saves lines of code and increases readability on the call sides
1,0,0,1,1,1,0,0,relates to this pr simplifies the creation of argumentsaredifferent exceptions saving classes and lines of code
1,1,0,1,1,1,1,0,relates to refactored removefirstline to a static utility classi would like to unifiy removefirstline decamelizer and stringjoiner to a new type stringutil they all manipulate strings and contain only a few methods that are not worth to live in a dedicated classes any thoughts
1,1,0,1,1,1,1,0,this pr allows to use donothing for methods with return type javalangvoid like void methods to solve this invocationinfoisvoid checks now the return type for the pseudo type of the keyword void or void
1,1,0,1,1,1,1,0,motivation and design see to quote the requirement see in depth design in we already support spying on abstract classes by allowingparameterless constructor however there is no support forconstructor parametersthis has been asked about long time ago mockito api is not robustenough if it supports mocking with constructor but not when one hasany constructor parametersthis patch enhances the mocksettingsuseconstrctor method as suggested in the alternative api comment in the issue and addsoptional ellipsis arguments that are passed to the constructorthe patch streamlines the creation of mocks via constructors to asingle flow where using a no arg constructor or an enclosing classare just private cases of this flow and dont require their ownspecial treatment
0,0,0,0,0,1,0,0,added an acceptance test to verify
1,0,0,1,1,1,0,0,with the current code introduced in mockito by commit a c calling mocksettingsuseconstructor with an argument list that would be applicable to more than one constructor would fail with an orgmockitointernalcreationinstanceinstantiationexception this behavior however is suboptimal as described in issue as it makes useconstructor less robust than the java compiler which is able to resolve such ambiguitieswith this patch mockito will attempt to match the constructor with the most specific parameter types a constructor x is considered more specific than a constructor y if they are both applicable to the given argument list constructor x has at least one parameter which is a further specialization of the corresponding parameter of constructor y ie paramxisassignablefrom paramy constructor y has no parameter which is a further specialization of the corresponding parameter of constructor x as defined aboveeg consider the following class public class someclass { someclass object o {} someclass string s {} }without this patch calling mock someclassclass withsettings useconstructor string would fail with this patch such a call would invoke the someclass string constructoras noted above this pr fixes issue
1,1,0,0,1,1,0,0,this pr in the javadoc i write that the first version of mockito inline is this artifact was actually offered in version but or earlier it did not work due to the issue so i write like that
1,1,0,0,1,1,0,0,this pr in the javadoc i write that the first version of mockito inline is this artifact was actually offered in version but or earlier it did not work due to the issue so i write like that
1,1,0,0,1,1,0,0,continuous delivery pipeline almost implemented removed tons of release logic complexity now all that is a part of general purpose mockito release tools project the new release automation should be much easier to test
0,0,0,1,1,1,1,0,the parameter type inference takes now the type of the actual instanceinto account to avoid type erasure issues in case the parameter isgenericsee also https githubcom mockito mockito issues issuecomment
1,1,0,0,1,1,0,0,updating documentation of verify feature to correct a supposed typo that results in confusing behaviour when cut pasted and run verbatimthe documentation presents the following example of the verify exact number of invocations feature using mock mockedlistadd once mockedlistadd twice mockedlistadd twice mockedlistadd three times mockedlistadd three times mockedlistadd three times following two verifications work exactly the same times is used by default verify mockedlist add once verify mockedlist times add once exact number of invocations verification verify mockedlist times add twice verify mockedlist times add three times verification using never never is an alias to times verify mockedlist never add never happened verification using atleast atmost verify mockedlist atleastonce add three times verify mockedlist atleast add five times verify mockedlist atmost add three times the last but one line says verify mockedlist atleast add five times this could be confusing to someone using these examples as it would result in a toolittleactualinvocations failure being reported by mockito this is because in the example the add method is never called with the string five times in order to have this example make sense in the way i think it should ive replaced the string five times with three times as suggested by szczepiq cheerstim cooke
1,0,0,0,1,1,1,0,this is a useful aid in debugging race conditions and other synchronicity problems
1,0,0,0,1,1,1,0,a cherry picked version of for the x branch
1,1,0,1,1,1,1,0,resolve the method hierarchy by byte buddys method graph compiler to properly handle bridge methods which require a full method hierarchy analysis to detect
1,0,0,1,0,1,0,0,since issue withsettings has a api stubonly which speed up mocked stub a lotsin my case stubonly huge amount of test overhead stacktrace and avoid invocation footprint list grow too large and cause oomhowever the api is not available with mock annotationi had to move tens of mock annotation from mock foo foo into mockitomock fooclass withsetting stubonly mock stubonlytrue public foo lightweight suggest adding the above api for convenience check list read the contributing guide pr should be motivated ie what does it fix why and if relevant how if possible relevant include an example in the description that could help all readers including project members to get a better picture of the change avoid other runtime dependencies meaningful commit history intention is important please rebase your commit history so that each commit is meaningful and help the people that will explore a change in years the pull request follows coding style mention in the description _if relevant_ at least one commit should mention fixes _if relevant_
1,1,0,1,1,0,1,0,in order to properly discover visibility bridges we have to run a full analysis of the method graph the compilation of this method graph is rather expensive and we require to cache a computed graph the caching is however non trivial as it references classes which might be unloaded in order to avoid a leak we cache classes using non strong referencesthis requires some real world experience to discover if this caching mechanism suffices
1,1,0,1,1,1,1,0,compare against non generic method when deciding if a method should be stubbed
1,0,0,0,1,1,1,0,not intended for merging yet submitted for visibility for design and rationale see for usage see verificationstartedlistenertest classthis is still experimental so refactorings error handling javadoc is missing
1,0,0,0,1,1,0,0,summaryprovide java travis build to ensure java compatibility in at least tested use casessupport for java was improved in gradle x and that version is being used due to some issues with newer gradle versions some other configuration changes were required as well as jacoco version has been bump check list read the contributing guide pr should be motivated ie what does it fix why and if relevant how if possible relevant include an example in the description that could help all readers including project members to get a better picture of the change avoid other runtime dependencies meaningful commit history intention is important please rebase your commit history so that each commit is meaningful and help the people that will explore a change in years the pull request follows coding style mention in the description _if relevant_ at least one commit should mention fixes _if relevant_
1,0,0,0,1,1,0,0,while working on new verification started listeners i found an instance of incorrect documentation i added unit tests and simplified the documentation currently contrary to what the javadoc said we do guarantee the order in which invocation listeners get notified some of our users might have started to depend on this behavior i added unit tests and the javadoc in general it is seems useful to guarantee the order this way the api is more predictable easier to use
1,1,0,0,1,1,0,0,this pull request by improving the deprecated javadoc of mockitodebug mockitodebugger and mockitodebuggerprintinvocations object mocks by adding the additional information on how to retrieve an actual instance of the mockitodebugger interface
1,1,1,1,1,1,1,0,the mocksettings now include an option to disable copying of annotations to mock classes
1,1,0,1,1,0,1,0,the override check implies java compile patterns such that kotlin method resolutions could fail for void return types which do not fit into javas reference type only generic hierarchies this pr eases this restriction to fix this resolution for kotlini added the test case of the reported issue as a reference
1,0,0,1,1,1,0,0,discussion of all thanks to the junit team sbrannen for that great api the implementation was straight forward and the docu is top notch not comparable to a junitrule or runner implementation one can feel the hard work the here provided mockitoextension allows to mock spy validate like the well known mockito junitrule runner this is still work in progress feel free to commentusage java extendwith mockitoextensionclass class junit test { mock private dependency mock test void checkmockcreation { when mockfoo thenreturn hello junit mockfoo verify mock foo }}
0,0,0,1,0,0,0,0,introduce a new annotation checkreturnvalue and add this to methods like when and verify such that static analysis can verify the value is actually used this makes sure developers can get warnings on build time instead of run time with our internal validatestate
1,0,0,1,1,1,0,0,remove several classes that were containers for code that is easier to be inlined they were only referenced once or never at all this makes it easier to reason about the code while also maintaining less code and classescloses
1,1,0,1,1,1,1,0,better checks for recursive calls and guards internally used jdk types fixes
1,1,0,1,1,1,1,0,better checks for recursive calls and guards internally used jdk types fixes
1,1,0,0,1,1,0,0,update the documentation for the answerscalls_real_methods according to and also included a note with recommendation not to use when thenreturn for partial mock
1,1,0,1,1,1,0,0,builds on
1,1,0,0,1,1,0,0,today we have strict stubs feature a key enabler for cleaner tests and improved debuggability strict stubs dont work well with common stubbing pattern they also dont like when we call stubbed methods with unexpected arguments even though sometimes it is legit for more see solution java test public void demo { lenient method on mocksettings interface foo mock mockitomock fooclass withsettings lenient lenient method on mockito class mockitolenient when mockfoo thenreturn mockitolenient doreturn when mock foo } for more see public api changes new methods mockitolenient mocksettingslenient mockcreationsettingsislenient stubbinggetstrictness new interfaces basestubber extracted out from existing stubber interface so that we can reuse api with lenientstubber lenientstubber instance returned by mockitolenient other changes made orgmockitonotextensible annotation public so that we can use it in subpackages
1,0,0,0,1,1,0,0,have changes the verify error message to include all the invocation instead of including just one undesired invocationpreviously we have message like wanted time at but was times undesired invocation at this pr changes it to wanted time at but was times at at to make the error message consistent the similar changes was made for too little invocations casethe message wanted times at but was times at changed to wanted times at but was times at at
1,1,0,1,1,1,1,0,note that this implementation differs from the prototype implementation of the junitteam instead it will do not do any parameter resolution between test methods
1,0,0,0,0,1,0,0,hii would like to make a quick contribution on this projecti add atmostonce it seems not to be a big feature i just want to highlight the fact you have the function atleastonce but nothing for the atmostonce casei rename the testclass threadverifiescontinuoslyinteractingmocktest on threadverifiescontinuouslyinteractingmocktest and the todo on tostring from hamcrestargumentmatcher
1,0,0,0,0,1,0,0,it is possible to register an extension for automatic use using javas serviceloader mechanism projects may want to provide their own meta inf file to avoid tediously adding mockitoextension to tests since it is very common however serviceloader requires the class to have a no args public constructor so the current extension cannot be used with the serviceloader mechanism check list read the contributing guide pr should be motivated ie what does it fix why and if relevant how if possible relevant include an example in the description that could help all readers including project members to get a better picture of the change avoid other runtime dependencies meaningful commit history intention is important please rebase your commit history so that each commit is meaningful and help the people that will explore a change in years the pull request follows coding style mention fixes in the description _if relevant_ at least one commit should mention fixes _if relevant_
1,1,0,1,1,1,0,1,requires dnetbytebuddyexperimentaltrue system property to be set to let bytebuddy use asm api version asm _expermiental and use the same one in inlinebytecodegenerator
1,1,0,0,1,1,0,0,it updates ignorestubs docs to include strictness information
0,0,0,0,0,1,0,0,this pr adds assertion to verification methods to prevent stub only mock from being verified verify verifynomoreinteractions inorder
1,0,0,0,1,1,1,0,exposed new public api based on an internal api stubbinglookuplistener as a rule of a thumb we try to expose the internal apis that the top level features are built upon since stubbinglookuplistener is useful for us to implement strictness lets get the former exposed as public api this way we build stronger framework with the concept of onion skin apithis pr replaces very nice pr from marchpig due to number of changes i needed to do i decided to reimplement the feature rather than use the original pr marchpig thank you for understanding
1,0,0,0,1,1,0,0,if using one liner stubs the mock object may be premature cleaned up and returning the mock fails with an exception this occurs because there is no strong reference to the mock itselftherefore we need to maintain a strong reference to the mock until weve returned it while making sure that the gc can still cleanup the mock correctly when neededcause implementations of basestubbing are intended to be cleaned up after usage we can store a strong ref to the mock there getmock then uses the strong ref instead of the weak ref provided by the invocation after cleaning up the implementations of basestubbing there is no strong ref to the mock itself anymore except the one in the test class i tried some alternative solutions but i believe this is the only way it works bind last mock creation to mockingprogress does not work because of this when mock testclass class gettestclass thenreturn mock testclassclass getmock bind mock of last invocation for stubbing to mockingprogress does not work because of this when mock testclassclass getstuff thenreturn x thenreturn when mock testclassclass getstuff thenreturn xxx getmock getstuff getmock
1,0,0,0,1,1,0,0,issue with leftover state when stubbing with bad throwables
0,0,0,0,0,0,0,0,mockito will throw verifyerror during its junit detection when junit is in the classpath because the code only supports junit and laterthis change will catch this error and pretend that junit is not thereissue
0,0,0,0,1,1,1,0,this pr intends to for fix it the returnssmartnulls answer use now some reflection to find the correct return type instead of the javautilobject when the return type can be found it will start to retrieve empty values using the answer returnsmoreemptyvalues & returnsemptyvalues before creating a new mock instanceas you may notice in tests there is still one case where the return type cannot be found in this case the answer will return a null instead of object mocki think it may be possible to improve this code any suggestion will be welcome
1,0,0,0,1,1,1,0,the java module system consideres packages of all named modules to be sealed this results in the naming strategy to rename classes such that they cannot subclass package private types
1,1,1,1,1,1,1,0,the multipleparentclassloader is now composed also with classloaders of supertypes of the mockedtype so in osgi is able to load all declared types in the hierarchy
1,0,0,1,1,0,0,0,removes injectingannotationengine processinjectmocks method that does an unnecessary loopfixes https githubcom mockito mockito issues
0,0,0,0,0,1,0,0,i opened issue a few weeks ago that went without an correspondence so i apologize if submitting a pr isnt the ideal method of moving this issue forward however i am hoping i can get this fix incorporated into an official version without implementing temporary workaroundsthe pr should clearly show the issue i am trying to fix but i had to introduce a testcompile snapshot dependency the dependent project has a fix required to demonstrate the issue within mockito but it unfortunately has not been incorporated into an official release and i cant think of another way to reproduce the issue i have contacted the owner of the dependent project but i havent received a response from them eitheri am looking for guidance on next steps for what i believe to be regression reported to be working in the only other solution i can think of is to merge this without a unit test but i highly doubt that is desirable_git commit message_ problem junitrule detects an unfinished mocking session when an inner class is detected fix if a mockitosession has been established for junitrule then use that and init mocks of the inner class tests within an inner class ensure mocks are accessible override outer class values when desired retain original values if not overwritten demonstrated with debechtejunit junit hierarchicalcontextrunner snapshot
1,0,0,0,1,1,1,0,this solves a large number of edge cases where null will actuallyremove the runtime classcastexception this essentially negates thewhole mockitocast errorprone check we can still not support every usecase but causing a npe instead of a cce does not seem to make thisworsei am still running internal tests within google to see if there are anyregressions but i already saw that some of the test failures we hadwith bytebuddy were resolved with this particular patchnote that this now fully closes a previous pr resolved the sameissue with returnssmartnulls
1,0,0,0,0,1,1,0,i hope the test is correct at least it failed before and succeeds now
1,1,1,1,1,1,1,0,in certain specific rare scenarios issue inline mocking causes memory leaks there is no clean way to mitigate this problem completely hence we introduced a new api to explicitly clear mock state only make sense in inline mocking javapublic class exampletest { after public void clearmocks { mockitoframework clearinlinemocks } test public void sometest { } } due to the introduction of map from weak reference from mock instance toits invocation handler mockito became vulnerable to memory leaks asthere are multiple situations where mockito could unintentionally holdstrong references to mock instances in the map record the strongreferences could be through spiedinstance for spies and arguments usedto facilitate method stubbingmockito could never know if the arguments passed in for method stubbingare also strongly referenced somewhere else or not so mockito needs tosave a strong reference to these arguments to avoid premature gctherefore to solve cyclic strong references through arguments mockitoneeds to explicitly know when mocks are out of their life and cleanup all internal strong references associated with them and
1,1,0,1,1,1,1,0,this pr aim to fix the issue described in the issue being that terminal type variable arguments were not looked up for their bounds
1,0,0,1,1,0,1,0,new public api invocationgetargumentsasmatchers useful for advanced integrations such as mockito scala some internal refactorings that provide temporary help with mockito scala integration
1,1,0,1,1,1,0,0,when junit mockito is used in modern ide idea eclipse we now show visual comparison failure pop up for certain mockito exceptions such as argumentsaredifferent
1,0,1,0,1,0,0,0,this way error prone can find the plugin when mockito errorprone is added to the annotation processor classpath
1,0,0,1,1,1,0,0,this is the reconciliation of with the tests and implementation rebased on release x
1,0,0,1,1,1,0,0,this is the reconciliation of with the tests and implementation rebased on release x
1,0,0,1,1,1,0,0,rename the exception toolittleactualinvocations totoofewactualinvocations as this is more correct english as thisexception is public api we rename by subclassing and deprecating theoriginal rename all tests and internal methods that were referencingthe old name by aligning with the new namecheck list read the contributing guide pr should be motivated ie what does it fix why and if relevant how if possible relevant include an example in the description that could help all readers including project members to get a better picture of the change avoid other runtime dependencies meaningful commit history intention is important please rebase your commit history so that each commit is meaningful and help the people that will explore a change in years the pull request follows coding style mention in the description _if relevant_ at least one commit should mention fixes _if relevant_
1,1,0,0,1,1,0,0,i was confused and tried to look for verifynomoreinvocations when i came across this javadocshopefully this prevents further confusion
1,0,0,0,0,1,0,0,this enables the ios mockito plugin to upgrade to v
0,0,0,0,0,0,0,0,the original implementation of conditional opentest j support relied on some implicit behaviour of the java classloader to generate and catch the exception at the right time it seems that this behaviour is not always exactly replicated in all environments for example in where mockito was being used in an instrumentation test that was being run on an android emulatorthe new implementation is a bit more direct in how it tests for the dependent classes the existing test cases still pass and matejdro confirmed that this his problem
1,1,0,1,1,1,1,0,with i provided a fix to and however that pr targeted master which eventually became old x and its code didnt make it into release x and should be reopenedi have back ported that pr to target release x verifyzerointeractions is marked as deprecated and a new verifynointeractions is added there are no breaking changes afaik so this code is backwards compatiblesince i dont know if when this code will ship javadocs contain a placeholder since xx
1,1,0,0,1,1,0,0,api changes postponed to default answer has not been changed in
1,1,0,0,1,1,0,0,removed typofixes added missing tag to fix javadocsupersedes and closes
1,1,0,0,1,1,0,0,removed typofixes added missing tag to fix javadocsupersedes and closes
1,0,0,1,1,1,1,0,â€¦returns first interface
0,0,0,0,1,1,0,0,similar to as requested by timvdlippe in
1,0,0,0,1,1,0,0,fix a small file handle leak which pops up when running tests with file leak detector
1,0,0,0,1,1,0,0,fix a small file handle leak which pops up when running tests with file leak detector
1,1,0,0,1,1,0,0,tries to improve the javadoc for timeout to differentiate it from after directly in the first sentence
0,0,0,0,0,1,0,0,we need higher version of junit jupiter to reproduce and added a test to enhance coverage
1,0,0,1,1,1,0,0,this fix improves mockito junit jupiter extension however it does not completely resolve all kinds of parallel issues when nested test classes are used ill open a separate ticket for it
1,1,0,0,1,1,0,0,check list read the contributing guide pr should be motivated ie what does it fix why and if relevant how if possible relevant include an example in the description that could help all readers including project members to get a better picture of the change avoid other runtime dependencies meaningful commit history intention is important please rebase your commit history so that each commit is meaningful and help the people that will explore a change in years the pull request follows coding style mention fixes in the description _if relevant_ at least one commit should mention fixes _if relevant_
0,0,0,0,0,1,0,0,reverts mockito mockito related to heres a pseudo code to describe the issues around this issue before while clazz objectclazz { val mocks aggregatespyormockfields clazzgetmockfields val fields aggregateinjectmocksfields clazz val ret tryconstructorinjection clazz fields mock if retfieldwasinitializedusingconstructorinjection { trysetterorpropertyinjection clazz fields mock } clazz clazzgetsuperclass } after val mocks aggregatespyormockfields clazzgetmockfields val fields aggregateinjectmocksfields clazz val ret tryconstructorinjection clazz fields mock if retfieldwasinitializedusingconstructorinjection { trysetterorpropertyinjection clazz fields mock } detailsbefore if the injectmocks field has a field that not listed in the constructor argument will fill by setter property injection at the nd loop ðŸ˜ƒit may not the expected behaviors by mockito authors but some users code depends on this behaviormy suggestion is to revert the remove unnecessary loop from injectingannotationengine by lihmeh Â· pull request Â· mockito mockito Â· github at this time
1,1,0,1,1,0,1,0,release notes commits raphw byte buddy byte buddy byte buddy
1,1,0,0,1,1,0,0,add new javatimeduration based public apis to mockito after and timeout and deprecate the corresponding long based public apisplumb those duration instances through the internals of mockito
0,0,0,0,1,1,0,0,this class was used during the migration period from mockito andmockito but is no longer necessary to be able to remove ourdependency on hamcrest we should remove mockitohamcrestin response to
0,0,0,0,1,1,0,0,some rules evaluate the base statement multiple times eg to executetests repeatedly the changes made in led to an exception in suchcases because the mockitolistener was registered multiple times nowwe only add the listener the first time the statement is evaluated inorder to restore the old behavior
1,1,0,1,1,1,0,0,reverts mockito mockito
1,0,0,0,1,1,1,0,this is a proposal for a basic test project to ensure that the mockito artifacts can be consumed from an osgi environment for example reverting the fix for is caught with the following exception javalangillegalstateexception failed to install bundle mockito core jar at orgmockitoosgitestosgitestsetup osgitestjava snipped caused by orgosgiframeworkbundleexception error occurred installing a bundle at orgeclipseosgistoragestorageinstall storagejava at orgeclipseosgiinternalframeworkbundlecontextimplinstallbundle bundlecontextimpljava at orgeclipseosgiinternalframeworkbundlecontextimplinstallbundle bundlecontextimpljava at orgmockitoosgitestosgitestsetup osgitestjava morecaused by javalangillegalargumentexception invalid range invalid format at orgosgiframeworkversionrange versionrangejava at orgeclipseosgicontainerbuildersosgimanifestbuilderfactoryaddpackageimports osgimanifestbuilderfactoryjava at orgeclipseosgicontainerbuildersosgimanifestbuilderfactorygetpackageimports osgimanifestbuilderfactoryjava at orgeclipseosgicontainerbuildersosgimanifestbuilderfactorycreatebuilder osgimanifestbuilderfactoryjava at orgeclipseosgicontainerbuildersosgimanifestbuilderfactorycreatebuilder osgimanifestbuilderfactoryjava at orgeclipseosgistoragestoragegetbuilder storagejava at orgeclipseosgistoragestoragegetbuilder storagejava at orgeclipseosgistoragestorageinstall storagejava morecaused by javautilnosuchelementexception at javautilstringtokenizernexttoken stringtokenizerjava at orgosgiframeworkversionrange versionrangejava more the osgi test project consists of three source sets a regular junit test source set with a single class osgitest starts an osgi framework installs mockito core byte buddy and objenesis bundles as well as two test bundles and executes some simple mockito test cases inside the osgi framework a source set testbundle thats built to an osgi bundle using the bundle task from the bnd gradle plugin contains the test classes that run the mockito test cases and thus depends on the mockito bundle a source set otherbundle thats also built to an osgi bundle but with no other dependencies used for testing mocking of classes from other bundlessome further technical details the test source set only has compile dependencies on the osgi apis and junit ie not on mockito the osgi framework is created using the standard framework api at runtime equinox is added as a dependency to supply an actual framework implementation but the intention is that any framework implementation could be used the test cases are run by loading classes from the test bundle that all implement runnable this is to provide a simple bridge using a common jdk class the reason for setting up such a bridge is that i want to drive the tests using a test runner that gradle supports for example to get good test reports but the test bundles dont know anything about junit inside the osgi framework i didnt want to explore adding an osgified version of junit into the mix at this point since that would also entail solving test discovery inside an osgi framework the osgi bundles are built using the bnd gradle plugin instead of the deprecated osgi plugin in gradle the reason is both future proofing to not impede a migration to gradle in this new sub project and that i believe it better mirrors how other projects would consume the mockito artifacts further it paves the way for replacing the usage of the deprecated plugin for the creating the osgi manifests in the root projectsince this is my first contribution ill be happy to fix anything that goes against the grains
1,0,0,0,1,1,1,0,this is a proposal for a basic test project to ensure that the mockito artifacts can be consumed from an osgi environment for example reverting the fix for is caught with the following exception javalangillegalstateexception failed to install bundle mockito core jar at orgmockitoosgitestosgitestsetup osgitestjava snipped caused by orgosgiframeworkbundleexception error occurred installing a bundle at orgeclipseosgistoragestorageinstall storagejava at orgeclipseosgiinternalframeworkbundlecontextimplinstallbundle bundlecontextimpljava at orgeclipseosgiinternalframeworkbundlecontextimplinstallbundle bundlecontextimpljava at orgmockitoosgitestosgitestsetup osgitestjava morecaused by javalangillegalargumentexception invalid range invalid format at orgosgiframeworkversionrange versionrangejava at orgeclipseosgicontainerbuildersosgimanifestbuilderfactoryaddpackageimports osgimanifestbuilderfactoryjava at orgeclipseosgicontainerbuildersosgimanifestbuilderfactorygetpackageimports osgimanifestbuilderfactoryjava at orgeclipseosgicontainerbuildersosgimanifestbuilderfactorycreatebuilder osgimanifestbuilderfactoryjava at orgeclipseosgicontainerbuildersosgimanifestbuilderfactorycreatebuilder osgimanifestbuilderfactoryjava at orgeclipseosgistoragestoragegetbuilder storagejava at orgeclipseosgistoragestoragegetbuilder storagejava at orgeclipseosgistoragestorageinstall storagejava morecaused by javautilnosuchelementexception at javautilstringtokenizernexttoken stringtokenizerjava at orgosgiframeworkversionrange versionrangejava more the osgi test project consists of three source sets a regular junit test source set with a single class osgitest starts an osgi framework installs mockito core byte buddy and objenesis bundles as well as two test bundles and executes some simple mockito test cases inside the osgi framework a source set testbundle thats built to an osgi bundle using the bundle task from the bnd gradle plugin contains the test classes that run the mockito test cases and thus depends on the mockito bundle a source set otherbundle thats also built to an osgi bundle but with no other dependencies used for testing mocking of classes from other bundlessome further technical details the test source set only has compile dependencies on the osgi apis and junit ie not on mockito the osgi framework is created using the standard framework api at runtime equinox is added as a dependency to supply an actual framework implementation but the intention is that any framework implementation could be used the test cases are run by loading classes from the test bundle that all implement runnable this is to provide a simple bridge using a common jdk class the reason for setting up such a bridge is that i want to drive the tests using a test runner that gradle supports for example to get good test reports but the test bundles dont know anything about junit inside the osgi framework i didnt want to explore adding an osgified version of junit into the mix at this point since that would also entail solving test discovery inside an osgi framework the osgi bundles are built using the bnd gradle plugin instead of the deprecated osgi plugin in gradle the reason is both future proofing to not impede a migration to gradle in this new sub project and that i believe it better mirrors how other projects would consume the mockito artifacts further it paves the way for replacing the usage of the deprecated plugin for the creating the osgi manifests in the root projectsince this is my first contribution ill be happy to fix anything that goes against the grains
1,0,0,1,0,1,0,0,read the contributing guide pr should be motivated ie what does it fix why and if relevant how if possible relevant include an example in the description that could help all readers including project members to get a better picture of the change avoid other runtime dependencies meaningful commit history intention is important please rebase your commit history so that each commit is meaningful and help the people that will explore a change in years the pull request follows coding style mention in the description _if relevant_ at least one commit should mention fixes _if relevant_
1,0,0,1,1,1,1,0,reverts mockito mockito based on feedback in
1,0,0,0,1,1,1,0,fixes mocks throwing the same throwable instance consecutively after specifying the mock behaviour with dothrow class or thenthrow class this is achieved by moving the instantiation of the throwable into a new answer called throwsexceptionclass much like throwsexception then thenthrow class calls the swer answer with a new instance of throwsexceptionclass rather than thenthrow throwable similar for dothrow class dothrow throwable and doanswer answer timvdlippe just have a quick inquiry the test in uninstantiablethrowabletest is failing because it expects an instantiationerror to be thrown in the middle of stubbing check pr the new code doesnt instantiate in the middle of stubbing anymore how do i ignore the test or do i just delete the test file im used to using an annotation to ignore tests the pr should be ready after thats sorted and any other suggested changes
1,0,0,0,0,1,0,0,windows has some issues with relative paths in checkstyle config files additionally it failed with an euro sign in codeplease verify if it also works on unix env
1,0,0,0,1,0,0,0,for any the doc says thatany is an alias of anyobject and any javalangclass but in the note it says thatsince mockito any class is not anymore an alias of this methodthis is confusing so the alias in the doc should exclude any javalangclass to simply beany is an alias of anyobject also update the same issue of anyobject check list read the contributing guide pr should be motivated ie what does it fix why and if relevant how if possible relevant include an example in the description that could help all readers including project members to get a better picture of the change avoid other runtime dependencies meaningful commit history intention is important please rebase your commit history so that each commit is meaningful and help the people that will explore a change in years the pull request follows coding style mention in the description _if relevant_ at least one commit should mention fixes _if relevant_
1,0,0,0,0,1,1,0,issue talked about a particular pattern using javas pattern class that causes mockito to not properly match the argument provided with an invocation to the expected answerit was later discovered that the pattern matcher matches to the entire region not some subregion by using javas matchermatch see comment in this commit fixes that by using matcherfind
1,1,1,0,1,1,1,0,return mock name from tostring for deep stub mocks it was previously returning null
1,1,1,0,1,1,1,0,return mock name from tostring for deep stub mocks it was previously returning null
1,0,0,0,1,1,0,0,extended mockitoassertionerror to wrap instance of assertionerror in addition to mockitoassertionerror so that the various possible exceptions thrown for non matching arguments have description prepended to the message
1,1,0,0,1,1,0,0,although weve called it out in the junit extension we should alsomake sure its clear in the core documentation to make it more visiblewe can fully quality the test annotation to make clear that it has tobe with junit closes junit extension https javadocio doc orgmockito mockito junit jupiter latest org mockito junit jupiter mockitoextensionhtml
1,1,0,1,1,1,0,0,due to the limited lifetime of static mocks they cannot be validated within a mockito session since they might have expired when the validation is applied this patch excludes static mocks from all validation to support static mocks in the regular session validation we would rather need to trigger the validation upon release of any static mock
1,0,0,1,1,1,0,0,does not include static mocks in regular listener logic as it might distort existing mock collectors that do not expect scoped mocks we have passed class objects to the listener to indicate a static mock the class object is of course itself not a regular mock and its cleaner to create a callback method of its own this way existing listeners remain logically backwards compatible including our own listener that is used within the junit runner we have only tested the rule i added a test for the runner too
1,1,0,1,1,1,0,1,triggeres initializers explicitly
1,1,0,1,1,1,1,0,under heavy optimization mocks might get garbage collected during the dispatching of a mocked method if the mock instance is not used after this method dispatch to avoid this we escape the mock instance during the dispatch to make sure that the gc cannot collect the object
1,1,0,1,1,1,1,0,adds a plugin to allow for adding one or multiple mock resolvers this way instances that are provided to mockitos dsl do no longer require to be the actual mocks but can also be proxies of mocks what is something already being applied by frameworks such as springthis works today with the subclass mock maker by accident as we read the mock state from the mock instance via a method which gets proxied if we ever find a more private appraoch this would however break springs mockito use and it is already broken with the inline mock makerby this spi spring could add an unproxy resolver to its mockito build up and make its proxied mocks compatible with mockito other frameworks could use the same approach if desired as this spi is genericcloses
1,1,0,1,1,1,1,1,byte buddy does exclude synthetic members by default as they normally provide necessary infrastructure outside of business logic eg bridge methods for constructor instrumentation it is however crucial that no code is called during mock creation and that fields are copied during spy creation
1,1,1,1,1,1,1,0,bumps versionserrorprone from to updates error_prone_core from to release notes sourced from error prone changes nosuchmethoderror comsuntoolsjavacutillist comsuntoolsjavaccodesymbol$typesymbolgetenclosedelements nosuchmethoderror crash in hidingfield nosuchelementexception crash in restrictedapichecker differentnamebutsame unnecessaryoptionalget unnecessarymethodreference new checks truncated commits jcnewclass disableable false in external differentnamebutsame symbolislocal was renamed in jdk super method references in unnecessarymethodreference unnecessaryoptionalget findings if the receivers are identical visiblefortestingused finding additional commits viewable in updates error_prone_test_helpers from to release notes sourced from error prone changes nosuchmethoderror comsuntoolsjavacutillist comsuntoolsjavaccodesymbol$typesymbolgetenclosedelements fixed nosuchmethoderror crash in hidingfield nosuchelementexception crash in restrictedapichecker differentnamebutsame unnecessaryoptionalget unnecessarymethodreference new checks truncated commits jcnewclass disableable false in external differentnamebutsame symbolislocal was renamed in jdk super method references in unnecessarymethodreference unnecessaryoptionalget findings if the receivers are identical visiblefortestingused finding additional commits viewable in dependabot will resolve any conflicts with this pr as long as you dont alter it yourself you can also trigger a rebase manually by commenting dependabot rebase dependabot automerge start dependabot automerge end dependabot commands and options you can trigger dependabot actions by commenting on this pr dependabot rebase will rebase this pr dependabot recreate will recreate this pr overwriting any edits that have been made to it dependabot merge will merge this pr after your ci passes on it dependabot squash and merge will squash and merge this pr after your ci passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this pr if it is closed dependabot close will close this pr and stop dependabot recreating it you can achieve the same result by closing it manually dependabot ignore this major version will close this pr and stop dependabot creating any more for this major version unless you reopen the pr or upgrade to it yourself dependabot ignore this minor version will close this pr and stop dependabot creating any more for this minor version unless you reopen the pr or upgrade to it yourself dependabot ignore this dependency will close this pr and stop dependabot creating any more for this dependency unless you reopen the pr or upgrade to it yourself
1,1,1,1,1,1,1,0,bumps versionserrorprone from to updates error_prone_core from to release notes sourced from error prone changes nosuchmethoderror comsuntoolsjavacutillist comsuntoolsjavaccodesymbol$typesymbolgetenclosedelements nosuchmethoderror crash in hidingfield nosuchelementexception crash in restrictedapichecker differentnamebutsame unnecessaryoptionalget unnecessarymethodreference new checks truncated commits jcnewclass disableable false in external differentnamebutsame symbolislocal was renamed in jdk super method references in unnecessarymethodreference unnecessaryoptionalget findings if the receivers are identical visiblefortestingused finding additional commits viewable in updates error_prone_test_helpers from to release notes sourced from error prone changes nosuchmethoderror comsuntoolsjavacutillist comsuntoolsjavaccodesymbol$typesymbolgetenclosedelements fixed nosuchmethoderror crash in hidingfield nosuchelementexception crash in restrictedapichecker differentnamebutsame unnecessaryoptionalget unnecessarymethodreference new checks truncated commits jcnewclass disableable false in external differentnamebutsame symbolislocal was renamed in jdk super method references in unnecessarymethodreference unnecessaryoptionalget findings if the receivers are identical visiblefortestingused finding additional commits viewable in dependabot will resolve any conflicts with this pr as long as you dont alter it yourself you can also trigger a rebase manually by commenting dependabot rebase dependabot automerge start dependabot automerge end dependabot commands and options you can trigger dependabot actions by commenting on this pr dependabot rebase will rebase this pr dependabot recreate will recreate this pr overwriting any edits that have been made to it dependabot merge will merge this pr after your ci passes on it dependabot squash and merge will squash and merge this pr after your ci passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this pr if it is closed dependabot close will close this pr and stop dependabot recreating it you can achieve the same result by closing it manually dependabot ignore this major version will close this pr and stop dependabot creating any more for this major version unless you reopen the pr or upgrade to it yourself dependabot ignore this minor version will close this pr and stop dependabot creating any more for this minor version unless you reopen the pr or upgrade to it yourself dependabot ignore this dependency will close this pr and stop dependabot creating any more for this dependency unless you reopen the pr or upgrade to it yourself
1,1,1,1,1,1,1,0,bumps versionserrorprone from to updates error_prone_core from to release notes sourced from error prone changes nosuchmethoderror comsuntoolsjavacutillist comsuntoolsjavaccodesymbol$typesymbolgetenclosedelements nosuchmethoderror crash in hidingfield nosuchelementexception crash in restrictedapichecker differentnamebutsame unnecessaryoptionalget unnecessarymethodreference new checks truncated commits jcnewclass disableable false in external differentnamebutsame symbolislocal was renamed in jdk super method references in unnecessarymethodreference unnecessaryoptionalget findings if the receivers are identical visiblefortestingused finding additional commits viewable in updates error_prone_test_helpers from to release notes sourced from error prone changes nosuchmethoderror comsuntoolsjavacutillist comsuntoolsjavaccodesymbol$typesymbolgetenclosedelements fixed nosuchmethoderror crash in hidingfield nosuchelementexception crash in restrictedapichecker differentnamebutsame unnecessaryoptionalget unnecessarymethodreference new checks truncated commits jcnewclass disableable false in external differentnamebutsame symbolislocal was renamed in jdk super method references in unnecessarymethodreference unnecessaryoptionalget findings if the receivers are identical visiblefortestingused finding additional commits viewable in dependabot will resolve any conflicts with this pr as long as you dont alter it yourself you can also trigger a rebase manually by commenting dependabot rebase dependabot automerge start dependabot automerge end dependabot commands and options you can trigger dependabot actions by commenting on this pr dependabot rebase will rebase this pr dependabot recreate will recreate this pr overwriting any edits that have been made to it dependabot merge will merge this pr after your ci passes on it dependabot squash and merge will squash and merge this pr after your ci passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this pr if it is closed dependabot close will close this pr and stop dependabot recreating it you can achieve the same result by closing it manually dependabot ignore this major version will close this pr and stop dependabot creating any more for this major version unless you reopen the pr or upgrade to it yourself dependabot ignore this minor version will close this pr and stop dependabot creating any more for this minor version unless you reopen the pr or upgrade to it yourself dependabot ignore this dependency will close this pr and stop dependabot creating any more for this dependency unless you reopen the pr or upgrade to it yourself
0,0,0,0,1,1,0,0,for consistency the parameters of the methodmockedstaticverify verificationmode verification have been swapped tomockedstaticverify verification verificationmode as this order is already used inmockitoverify t verificationmode fixes check list read the contributing guide pr should be motivated ie what does it fix why and if relevant how if possible relevant include an example in the description that could help all readers including project members to get a better picture of the change avoid other runtime dependencies meaningful commit history intention is important please rebase your commit history so that each commit is meaningful and help the people that will explore a change in years the pull request follows coding style mention in the description _if relevant_ at least one commit should mention fixes _if relevant_
0,0,0,0,1,1,0,0,seems like the object type does not ever need instrumentationtargetsremove objectclass in orgmockitointernalcreationbytebuddyinlinebytecodegeneratortriggerretransformation set boolean was a bit over the top i e it does seem to break mocking of tostring when inherited from javalangobject i added a test for this which should have been there in the first place due to this i am still not sure if removing the line is safe even if the whole test suite is green please review carefully
1,0,0,0,1,1,0,0,pr for verify on a wrapped mock fails with unfinishedverificationexception
1,0,0,1,1,1,0,0,supersedes and closes
0,0,0,0,0,1,0,0,ific adds nullinsteadofmockexception and notamockexception checks to inorderverify before checking if mocks were passed in during creation of inordersee for a description of the issueinorderverify mock now first checks if the passed argument is null and if the mock is in fact a mock and gives appropriate exception messages before checking if the passed in argument was passed during creation of inorder object and therefore giving a less specific error message code change loop checklist read the contributing guide pr should be motivated ie what does it fix why and if relevant how if possible relevant include an example in the description that could help all readers including project members to get a better picture of the change avoid other runtime dependencies meaningful commit history intention is important please rebase your commit history so that each commit is meaningful and help the people that will explore a change in years the pull request follows coding style mention in the description _if relevant_ at least one commit should mention fixes _if relevant_
1,1,0,1,1,1,1,0,simply passes the exception cause to the thrown mockitoexception
0,0,0,0,1,1,0,0,adds the missing parenthesis to the argumentmatcher javadoc example checklist read the contributing guide pr should be motivated ie what does it fix why and if relevant how if possible relevant include an example in the description that could help all readers including project members to get a better picture of the change avoid other runtime dependencies meaningful commit history intention is important please rebase your commit history so that each commit is meaningful and help the people that will explore a change in years the pull request follows coding style mention in the description _if relevant_ at least one commit should mention fixes _if relevant_
1,0,0,1,1,1,0,0,bumps versionserrorprone from to updates error_prone_core from to release notes sourced from error prone everything in plus an error prone changes initial support for running on jdk ea builds supports for java languages features is incomplete for issues with java are welcome returnvalueignored checking of collection iterable and iterat inliner additional commits viewable in updates error_prone_test_helpers from to release notes sourced from error prone everything in plus an error prone changes initial support for running on jdk ea builds supports for java languages features is incomplete for issues with java are welcome returnvalueignored checking of collection iterable and iterat inliner additional commits viewable in dependabot will resolve any conflicts with this pr as long as you dont alter it yourself you can also trigger a rebase manually by commenting dependabot rebase dependabot automerge start dependabot will merge this pr once ci passes on it as requested by timvdlippe dependabot automerge end dependabot commands and options you can trigger dependabot actions by commenting on this pr dependabot rebase will rebase this pr dependabot recreate will recreate this pr overwriting any edits that have been made to it dependabot merge will merge this pr after your ci passes on it dependabot squash and merge will squash and merge this pr after your ci passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this pr if it is closed dependabot close will close this pr and stop dependabot recreating it you can achieve the same result by closing it manually dependabot ignore this major version will close this pr and stop dependabot creating any more for this major version unless you reopen the pr or upgrade to it yourself dependabot ignore this minor version will close this pr and stop dependabot creating any more for this minor version unless you reopen the pr or upgrade to it yourself dependabot ignore this dependency will close this pr and stop dependabot creating any more for this dependency unless you reopen the pr or upgrade to it yourself
1,0,0,1,1,1,0,0,bumps versionserrorprone from to updates error_prone_core from to release notes sourced from error prone everything in plus an error prone changes initial support for running on jdk ea builds supports for java languages features is incomplete for issues with java are welcome returnvalueignored checking of collection iterable and iterat inliner additional commits viewable in updates error_prone_test_helpers from to release notes sourced from error prone everything in plus an error prone changes initial support for running on jdk ea builds supports for java languages features is incomplete for issues with java are welcome returnvalueignored checking of collection iterable and iterat inliner additional commits viewable in dependabot will resolve any conflicts with this pr as long as you dont alter it yourself you can also trigger a rebase manually by commenting dependabot rebase dependabot automerge start dependabot will merge this pr once ci passes on it as requested by timvdlippe dependabot automerge end dependabot commands and options you can trigger dependabot actions by commenting on this pr dependabot rebase will rebase this pr dependabot recreate will recreate this pr overwriting any edits that have been made to it dependabot merge will merge this pr after your ci passes on it dependabot squash and merge will squash and merge this pr after your ci passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this pr if it is closed dependabot close will close this pr and stop dependabot recreating it you can achieve the same result by closing it manually dependabot ignore this major version will close this pr and stop dependabot creating any more for this major version unless you reopen the pr or upgrade to it yourself dependabot ignore this minor version will close this pr and stop dependabot creating any more for this minor version unless you reopen the pr or upgrade to it yourself dependabot ignore this dependency will close this pr and stop dependabot creating any more for this dependency unless you reopen the pr or upgrade to it yourself
1,0,0,1,1,1,0,0,bumps versionserrorprone from to updates error_prone_core from to release notes sourced from error prone everything in plus an error prone changes initial support for running on jdk ea builds supports for java languages features is incomplete for issues with java are welcome returnvalueignored checking of collection iterable and iterat inliner additional commits viewable in updates error_prone_test_helpers from to release notes sourced from error prone everything in plus an error prone changes initial support for running on jdk ea builds supports for java languages features is incomplete for issues with java are welcome returnvalueignored checking of collection iterable and iterat inliner additional commits viewable in dependabot will resolve any conflicts with this pr as long as you dont alter it yourself you can also trigger a rebase manually by commenting dependabot rebase dependabot automerge start dependabot will merge this pr once ci passes on it as requested by timvdlippe dependabot automerge end dependabot commands and options you can trigger dependabot actions by commenting on this pr dependabot rebase will rebase this pr dependabot recreate will recreate this pr overwriting any edits that have been made to it dependabot merge will merge this pr after your ci passes on it dependabot squash and merge will squash and merge this pr after your ci passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this pr if it is closed dependabot close will close this pr and stop dependabot recreating it you can achieve the same result by closing it manually dependabot ignore this major version will close this pr and stop dependabot creating any more for this major version unless you reopen the pr or upgrade to it yourself dependabot ignore this minor version will close this pr and stop dependabot creating any more for this minor version unless you reopen the pr or upgrade to it yourself dependabot ignore this dependency will close this pr and stop dependabot creating any more for this dependency unless you reopen the pr or upgrade to it yourself
1,0,0,1,1,1,0,0,bumps versionserrorprone from to updates error_prone_core from to release notes sourced from error prone everything in plus an error prone changes initial support for running on jdk ea builds supports for java languages features is incomplete for issues with java are welcome returnvalueignored checking of collection iterable and iterat inliner additional commits viewable in updates error_prone_test_helpers from to release notes sourced from error prone everything in plus an error prone changes initial support for running on jdk ea builds supports for java languages features is incomplete for issues with java are welcome returnvalueignored checking of collection iterable and iterat inliner additional commits viewable in dependabot will resolve any conflicts with this pr as long as you dont alter it yourself you can also trigger a rebase manually by commenting dependabot rebase dependabot automerge start dependabot will merge this pr once ci passes on it as requested by timvdlippe dependabot automerge end dependabot commands and options you can trigger dependabot actions by commenting on this pr dependabot rebase will rebase this pr dependabot recreate will recreate this pr overwriting any edits that have been made to it dependabot merge will merge this pr after your ci passes on it dependabot squash and merge will squash and merge this pr after your ci passes on it dependabot cancel merge will cancel a previously requested merge and block automerging dependabot reopen will reopen this pr if it is closed dependabot close will close this pr and stop dependabot recreating it you can achieve the same result by closing it manually dependabot ignore this major version will close this pr and stop dependabot creating any more for this major version unless you reopen the pr or upgrade to it yourself dependabot ignore this minor version will close this pr and stop dependabot creating any more for this minor version unless you reopen the pr or upgrade to it yourself dependabot ignore this dependency will close this pr and stop dependabot creating any more for this dependency unless you reopen the pr or upgrade to it yourself
1,1,1,1,1,1,1,0,this should only affect cases that previously would have thrown anexception
0,0,0,1,0,1,1,0,ea f c adf cea e b a inadvertently undid a change from bc be d fb dcd b ced e fc which breaks behavior under some classloaders that special case mockito classes use of an explicit parent with multipleparentsclassloader appears to be discouraged in the documentation alsofollowup for
1,1,1,1,1,1,1,0,this patch handles methods where an interface uses a package private type as a param or return value without it the generated mock class will produce abstractmethoderror since its methods do not actually override the methods of the interfacesfollowup on
